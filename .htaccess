Options +FollowSymLinks
RewriteEngine On
RewriteBase /

# Redirige les actions
# Exemple : https://api.r-thd.fr/FeelingsDiary/entry -> https://api.r-thd.fr/FeelingsDiary/actions/entry
RewriteCond %{REQUEST_URI} !(api.r-thd.fr/actions)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule (.*)$ https://api.r-thd.fr/FeelingsDiary/actions/$1 [R,L]

# HTTPS
RewriteCond %{HTTP_HOST} ^api.r-thd\.fr [NC]
RewriteCond %{SERVER_PORT} 80
RewriteRule ^(.*)$ https://api.r-thd.fr/FeelingsDiary/$1 [R,L]

# Pages d'erreur
ErrorDocument 404 /FeelingsDiary/pages/404.php
ErrorDocument 403 /FeelingsDiary/pages/403.php
ErrorDocument 401 /FeelingsDiary/pages/401.php

# Désactivation de la visualisation du système de fichier
Options -Indexes
